<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MADNESS: madness::detail::RemoteCounterBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MADNESS
   &#160;<span id="projectnumber">version 0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemadness.html">madness</a></li><li class="navelem"><a class="el" href="namespacemadness_1_1detail.html">detail</a></li><li class="navelem"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html">RemoteCounterBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmadness_1_1detail_1_1RemoteCounterBase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">madness::detail::RemoteCounterBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for remote counter implementation objects.  
 <a href="classmadness_1_1detail_1_1RemoteCounterBase.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="worldref_8h_source.html">worldref.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for madness::detail::RemoteCounterBase:</div>
<div class="dyncontent">
<div class="center"><img src="classmadness_1_1detail_1_1RemoteCounterBase__inherit__graph.png" border="0" usemap="#madness_1_1detail_1_1RemoteCounterBase_inherit__map" alt="Inheritance graph"/></div>
<map name="madness_1_1detail_1_1RemoteCounterBase_inherit__map" id="madness_1_1detail_1_1RemoteCounterBase_inherit__map">
<area shape="rect" id="node2" href="singletonmadness_1_1detail_1_1RemoteCounterImpl.html" title="Remote counter implementation object. " alt="" coords="20,81,251,124"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3e59208540994e2aedc55e7b246bf73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#ab3e59208540994e2aedc55e7b246bf73">RemoteCounterBase</a> ()</td></tr>
<tr class="separator:ab3e59208540994e2aedc55e7b246bf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6da660f042b403371a50d6a1b6e7e7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#adb6da660f042b403371a50d6a1b6e7e7">~RemoteCounterBase</a> ()</td></tr>
<tr class="separator:adb6da660f042b403371a50d6a1b6e7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e86ccb063542a72e58bab51cc8a8a8b"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a8e86ccb063542a72e58bab51cc8a8a8b">key</a> () const =0</td></tr>
<tr class="memdesc:a8e86ccb063542a72e58bab51cc8a8a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter key accessor.  <a href="#a8e86ccb063542a72e58bab51cc8a8a8b">More...</a><br /></td></tr>
<tr class="separator:a8e86ccb063542a72e58bab51cc8a8a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837fc7a65c55e49974d804c1e4988cc7"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a837fc7a65c55e49974d804c1e4988cc7">use_count</a> () const </td></tr>
<tr class="memdesc:a837fc7a65c55e49974d804c1e4988cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remote and local counter accessor.  <a href="#a837fc7a65c55e49974d804c1e4988cc7">More...</a><br /></td></tr>
<tr class="separator:a837fc7a65c55e49974d804c1e4988cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8309de8ad2ac1e73c4f652ba9a57020"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af8309de8ad2ac1e73c4f652ba9a57020"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="singletonmadness_1_1tr1_1_1shptr_1_1shared__ptr.html">std::shared_ptr</a>&lt; T &gt; &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#af8309de8ad2ac1e73c4f652ba9a57020">get_shared</a> () const </td></tr>
<tr class="memdesc:af8309de8ad2ac1e73c4f652ba9a57020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared pointer accessor.  <a href="#af8309de8ad2ac1e73c4f652ba9a57020">More...</a><br /></td></tr>
<tr class="separator:af8309de8ad2ac1e73c4f652ba9a57020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dab78d7381a3e7ec53eb9a04a4cae2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a9dab78d7381a3e7ec53eb9a04a4cae2c">add_ref</a> ()</td></tr>
<tr class="memdesc:a9dab78d7381a3e7ec53eb9a04a4cae2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the reference count.  <a href="#a9dab78d7381a3e7ec53eb9a04a4cae2c">More...</a><br /></td></tr>
<tr class="separator:a9dab78d7381a3e7ec53eb9a04a4cae2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80599f3a65ef4b376f661a51f24d738b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a80599f3a65ef4b376f661a51f24d738b">release</a> ()</td></tr>
<tr class="memdesc:a80599f3a65ef4b376f661a51f24d738b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the reference count.  <a href="#a80599f3a65ef4b376f661a51f24d738b">More...</a><br /></td></tr>
<tr class="separator:a80599f3a65ef4b376f661a51f24d738b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for remote counter implementation objects. </p>
<p>This class only holds an atomic counter. The use counter tracks local copies of the counter an references that have been copied as part of the communication process. This class also provides a mechanism for hiding the pointer type. </p><dl class="section note"><dt>Note</dt><dd>The actual counter manipulation is handled by <a class="el" href="classmadness_1_1detail_1_1RemoteCounter.html" title="Remote reference counter. ">RemoteCounter</a>. This class only provides the counter interface. </dd>
<dd>
This class is considered an implementation detail and may change at any time. You should not use this class directly. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab3e59208540994e2aedc55e7b246bf73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">madness::detail::RemoteCounterBase::RemoteCounterBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adb6da660f042b403371a50d6a1b6e7e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual madness::detail::RemoteCounterBase::~RemoteCounterBase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9dab78d7381a3e7ec53eb9a04a4cae2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void madness::detail::RemoteCounterBase::add_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment the reference count. </p>
<p>The reference count should be incremented when a local copy of the counter is created or the when the counter is serialized as part of communication. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">nothing</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="gfit_8cc.html#a8fc6defe4e499b1b9b9c275689e44352">c</a>, <a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a8e86ccb063542a72e58bab51cc8a8a8b">key()</a>, and <a class="el" href="namespacemadness.html#ad8609970864ad4b461c6652067cac3ad">madness::print()</a>.</p>

</div>
</div>
<a class="anchor" id="af8309de8ad2ac1e73c4f652ba9a57020"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="singletonmadness_1_1tr1_1_1shptr_1_1shared__ptr.html">std::shared_ptr</a>&lt;T&gt;&amp; madness::detail::RemoteCounterBase::get_shared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shared pointer accessor. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The stored pointer type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A const reference to the stored shared pointer </dd></dl>

</div>
</div>
<a class="anchor" id="a8e86ccb063542a72e58bab51cc8a8a8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* madness::detail::RemoteCounterBase::key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter key accessor. </p>
<p>The key is the pointer for which the remote counter is counting references. </p><dl class="section return"><dt>Returns</dt><dd>The pointer that is being counted. </dd></dl>

<p>Implemented in <a class="el" href="singletonmadness_1_1detail_1_1RemoteCounterImpl.html#a7c2138f9a71432ca17a261c6f716d764">madness::detail::RemoteCounterImpl&lt; T &gt;</a>.</p>

<p>Referenced by <a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a9dab78d7381a3e7ec53eb9a04a4cae2c">add_ref()</a>, and <a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a80599f3a65ef4b376f661a51f24d738b">release()</a>.</p>

</div>
</div>
<a class="anchor" id="a80599f3a65ef4b376f661a51f24d738b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool madness::detail::RemoteCounterBase::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrement the reference count. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the reference count has dropped to zero </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">nothing</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="gfit_8cc.html#a8fc6defe4e499b1b9b9c275689e44352">c</a>, <a class="el" href="classmadness_1_1AtomicInt.html#abd2d98165b7d57f547f7aec6c25fdbac">madness::AtomicInt::dec_and_test()</a>, <a class="el" href="classmadness_1_1detail_1_1RemoteCounterBase.html#a8e86ccb063542a72e58bab51cc8a8a8b">key()</a>, and <a class="el" href="namespacemadness.html#ad8609970864ad4b461c6652067cac3ad">madness::print()</a>.</p>

</div>
</div>
<a class="anchor" id="a837fc7a65c55e49974d804c1e4988cc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long madness::detail::RemoteCounterBase::use_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remote and local counter accessor. </p>
<p>The use counter tracks local copies of the counter an references that have been copied as part othe communication process </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="worldref_8h_source.html">worldref.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 26 2014 10:39:52 for MADNESS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MADNESS: madness::DeferredDeleter&lt; ptrT, deleterT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MADNESS
   &#160;<span id="projectnumber">version 0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemadness.html">madness</a></li><li class="navelem"><a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmadness_1_1DeferredDeleter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">madness::DeferredDeleter&lt; ptrT, deleterT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Deferred deleter for smart pointers.  
 <a href="singletonmadness_1_1DeferredDeleter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="deferred__cleanup_8h_source.html">deferred_cleanup.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47a8af6999f97de8c59643038115c28d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#a47a8af6999f97de8c59643038115c28d">DeferredDeleter</a> (<a class="el" href="classmadness_1_1World.html">World</a> &amp;w, deleterT d=<a class="el" href="singletonmadness_1_1DeferredDeleter.html#acfa4d9530bd0e2ef846a38911f644976">default_deleter</a>&lt; deleterT &gt;())</td></tr>
<tr class="memdesc:a47a8af6999f97de8c59643038115c28d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a deferred deleter object.  <a href="#a47a8af6999f97de8c59643038115c28d">More...</a><br /></td></tr>
<tr class="separator:a47a8af6999f97de8c59643038115c28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acba593128f3bd6e3d6068fe9261939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#a9acba593128f3bd6e3d6068fe9261939">DeferredDeleter</a> (const <a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt; ptrT, deleterT &gt; &amp;other)</td></tr>
<tr class="memdesc:a9acba593128f3bd6e3d6068fe9261939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#a9acba593128f3bd6e3d6068fe9261939">More...</a><br /></td></tr>
<tr class="separator:a9acba593128f3bd6e3d6068fe9261939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757d25492f4cb235104adcacd21385db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt; ptrT, deleterT &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#a757d25492f4cb235104adcacd21385db">operator=</a> (const <a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt; ptrT, deleterT &gt; &amp;other)</td></tr>
<tr class="memdesc:a757d25492f4cb235104adcacd21385db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy assignment operator.  <a href="#a757d25492f4cb235104adcacd21385db">More...</a><br /></td></tr>
<tr class="separator:a757d25492f4cb235104adcacd21385db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae730a9c814ead494fcab9f121e757d54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#ae730a9c814ead494fcab9f121e757d54">operator()</a> (ptrT *p) const </td></tr>
<tr class="memdesc:ae730a9c814ead494fcab9f121e757d54"><td class="mdescLeft">&#160;</td><td class="mdescRight">The deferred deletion function.  <a href="#ae730a9c814ead494fcab9f121e757d54">More...</a><br /></td></tr>
<tr class="separator:ae730a9c814ead494fcab9f121e757d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acfa4d9530bd0e2ef846a38911f644976"><td class="memTemplParams" colspan="2">template&lt;typename D &gt; </td></tr>
<tr class="memitem:acfa4d9530bd0e2ef846a38911f644976"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="structmadness_1_1enable__if.html">enable_if</a>&lt; <a class="el" href="structmadness_1_1tr1_1_1is__same.html">std::is_same</a><br class="typebreak" />
&lt; D, void(*)(ptrT *)&gt;, D &gt;<br class="typebreak" />
::type&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#acfa4d9530bd0e2ef846a38911f644976">default_deleter</a> ()</td></tr>
<tr class="memdesc:acfa4d9530bd0e2ef846a38911f644976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a default deleter for a function pointer.  <a href="#acfa4d9530bd0e2ef846a38911f644976">More...</a><br /></td></tr>
<tr class="separator:acfa4d9530bd0e2ef846a38911f644976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d923c04cf8cc9965650e364a73f1c3e"><td class="memTemplParams" colspan="2">template&lt;typename D &gt; </td></tr>
<tr class="memitem:a1d923c04cf8cc9965650e364a73f1c3e"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="structmadness_1_1disable__if.html">disable_if</a><br class="typebreak" />
&lt; <a class="el" href="structmadness_1_1tr1_1_1is__same.html">std::is_same</a>&lt; D, void(*)(ptrT *)&gt;<br class="typebreak" />
, D &gt;::type&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="singletonmadness_1_1DeferredDeleter.html#a1d923c04cf8cc9965650e364a73f1c3e">default_deleter</a> ()</td></tr>
<tr class="memdesc:a1d923c04cf8cc9965650e364a73f1c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a default deleter for a functor.  <a href="#a1d923c04cf8cc9965650e364a73f1c3e">More...</a><br /></td></tr>
<tr class="separator:a1d923c04cf8cc9965650e364a73f1c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename ptrT, typename deleterT = void(*)(ptrT*)&gt;<br />
class madness::DeferredDeleter&lt; ptrT, deleterT &gt;</h3>

<p>Deferred deleter for smart pointers. </p>
<p>This deleter object places the shared pointer on the deferred deletion list of a world when the last reference to the pointer is destroyed. Once the pointer is placed in the deferred deletion list, it is destroyed by the world object at the next global fence of that world. You may pass any arbitrary deleter function pointer/functor to to the <a class="el" href="singletonmadness_1_1DeferredDeleter.html" title="Deferred deleter for smart pointers. ">DeferredDeleter</a> constructor to handle cleanup. If no deleter function pointer/functor is provided by the user, the pointer will be freed with the <code>delete</code> operator. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ptrT</td><td>The pointer type that will be deleted </td></tr>
    <tr><td class="paramname">deleterT</td><td>The deleter function pointer/functor type that will be use to cleanup the pointer [Default = void(*)(ptrT*) ]. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>D type must be void(*)(T*) for function pointers or a functor type that includes a void D::operator() (ptrT*) function and have an accessible copy constructor and assignment operator. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a47a8af6999f97de8c59643038115c28d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::<a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmadness_1_1World.html">World</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">deleterT&#160;</td>
          <td class="paramname"><em>d</em> = <code><a class="el" href="singletonmadness_1_1DeferredDeleter.html#acfa4d9530bd0e2ef846a38911f644976">default_deleter</a>&lt;deleterT&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a deferred deleter object. </p>
<p>The deleter function pointer <code>d</code> will be used to delete the pointer at a global fence of world <code>w</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>A reference to the world object, which will be responsible for pointer deletion. </td></tr>
    <tr><td class="paramname">d</td><td>A deleter function pointer/functor [Default = if <code>D</code> <code>==</code> <code>void(*)</code>(ptrT*) then <code>d</code> <code>=</code> <code>&amp;<a class="el" href="namespacemadness_1_1detail.html#a8c9f496c42c338040f76f88b70f7563c" title="Checked pointer delete function. ">detail::checked_delete&lt;ptrT&gt;</a></code> else <code>d</code> <code>=</code> <code>D()</code> ]. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9acba593128f3bd6e3d6068fe9261939"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::<a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt; ptrT, deleterT &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The deleter object to be copied. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acfa4d9530bd0e2ef846a38911f644976"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<div class="memtemplate">
template&lt;typename D &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmadness_1_1enable__if.html">enable_if</a>&lt;<a class="el" href="structmadness_1_1tr1_1_1is__same.html">std::is_same</a>&lt;D, void(*)(ptrT*)&gt;, D&gt;::type <a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::default_deleter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a default deleter for a function pointer. </p>

</div>
</div>
<a class="anchor" id="a1d923c04cf8cc9965650e364a73f1c3e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<div class="memtemplate">
template&lt;typename D &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmadness_1_1disable__if.html">disable_if</a>&lt;<a class="el" href="structmadness_1_1tr1_1_1is__same.html">std::is_same</a>&lt;D, void(*)(ptrT*)&gt;, D&gt;::type <a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::default_deleter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a default deleter for a functor. </p>

</div>
</div>
<a class="anchor" id="ae730a9c814ead494fcab9f121e757d54"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">ptrT *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The deferred deletion function. </p>
<p>This function is called when the last reference to the shared pointer is destroyed. It will place the pointer in the deferred cleanup list of world. </p>

<p>References <a class="el" href="classmadness_1_1detail_1_1DeferredCleanup.html#a9a316d2cca8ce1397d414f6b51926e7f">madness::detail::DeferredCleanup::add()</a>.</p>

</div>
</div>
<a class="anchor" id="a757d25492f4cb235104adcacd21385db"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ptrT , typename deleterT  = void(*)(ptrT*)&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt;ptrT, deleterT&gt;&amp; <a class="el" href="singletonmadness_1_1DeferredDeleter.html">madness::DeferredDeleter</a>&lt; ptrT, deleterT &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="singletonmadness_1_1DeferredDeleter.html">DeferredDeleter</a>&lt; ptrT, deleterT &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy assignment operator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The deleter object to be copied. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to this object. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="deferred__cleanup_8h_source.html">deferred_cleanup.h</a></li>
<li><a class="el" href="deferred__deleter_8h_source.html">deferred_deleter.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 26 2014 10:39:37 for MADNESS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
